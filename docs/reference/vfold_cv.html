<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>V-Fold Cross-Validation — vfold_cv • rsample</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">



<meta property="og:title" content="V-Fold Cross-Validation — vfold_cv" />
<meta property="og:description" content="V-fold cross-validation randomly splits the data into V groups of roughly
equal size (called &quot;folds&quot;). A resample of the analysis data consisted of
V-1 of the folds while the assessment set contains the final fold. In basic
V-fold cross-validation (i.e. no repeats), the number of resamples is equal
to V." />
<meta property="og:image" content="https://tidymodels.github.io/rsample/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">rsample</a>
        <div class="info">
          <span class="partof">part of <a href="https://github.com/tidymodels">tidymodels</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.6</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/Basics.html">Basic Usage</a>
</li>
<li>
  <a href="../articles/Working_with_rsets.html">Working with Resample Sets</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Application Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Applications/Recipes_and_rsample.html">Recipes and rsample</a>
    </li>
    <li>
      <a href="../articles/Applications/Time_Series.html">Time Series Analysis</a>
    </li>
    <li>
      <a href="../articles/Applications/Survival_Analysis.html">Survival Analysis</a>
    </li>
    <li>
      <a href="../articles/Applications/Nested_Resampling.html">Tuning Models using Nested Resampling</a>
    </li>
    <li>
      <a href="../articles/Applications/Keras.html">Grid Search Tuning of Keras Models</a>
    </li>
    <li>
      <a href="../articles/Applications/Intervals.html">Bootstrap Interval Estimation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/rsample/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>V-Fold Cross-Validation</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidymodels/rsample/blob/master/R/vfold.R'><code>R/vfold.R</code></a></small>
    <div class="hidden name"><code>vfold_cv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>V-fold cross-validation randomly splits the data into V groups of roughly
equal size (called "folds"). A resample of the analysis data consisted of
V-1 of the folds while the assessment set contains the final fold. In basic
V-fold cross-validation (i.e. no repeats), the number of resamples is equal
to V.</p>
    </div>

    <pre class="usage"><span class='fu'>vfold_cv</span>(<span class='no'>data</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>repeats</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>strata</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame.</p></td>
    </tr>
    <tr>
      <th>v</th>
      <td><p>The number of partitions of the data set.</p></td>
    </tr>
    <tr>
      <th>repeats</th>
      <td><p>The number of times to repeat the V-fold partitioning.</p></td>
    </tr>
    <tr>
      <th>strata</th>
      <td><p>A variable that is used to conduct stratified sampling to
create the folds. This could be a single character value or a variable name
that corresponds to a variable that exists in the data frame.</p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>A single number giving the number of bins desired to stratify
a numeric stratification variable.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not currently used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with classes <code>vfold_cv</code>, <code>rset</code>, <code>tbl_df</code>, <code>tbl</code>, and
<code>data.frame</code>. The results include a column for the data split objects and
one or more identification variables. For a single repeats, there will be
one column called <code>id</code> that has a character string with the fold identifier.
For repeats, <code>id</code> is the repeat number and an additional column called <code>id2</code>
that contains the fold information (within repeat).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>strata</code> argument causes the random sampling to be conducted <em>within
the stratification variable</em>. The can help ensure that the number of data
points in the analysis data is equivalent to the proportions in the original
data set.
When more than one repeat is requested, the basic V-fold cross-validation
is conducted each time. For example, if three repeats are used with <code>v = 10</code>, there are a total of 30 splits which as three groups of 10 that are
generated separately.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>vfold_cv</span>(<span class='no'>mtcars</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; #  10-fold cross-validation 
#&gt; <span style='color: #555555;'># A tibble: 10 x 2</span><span>
#&gt;    splits         id    
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;named list&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> 
#&gt; </span><span style='color: #555555;'> 1</span><span> </span><span style='color: #555555;'>&lt;split [28/4]&gt;</span><span> Fold01
#&gt; </span><span style='color: #555555;'> 2</span><span> </span><span style='color: #555555;'>&lt;split [28/4]&gt;</span><span> Fold02
#&gt; </span><span style='color: #555555;'> 3</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold03
#&gt; </span><span style='color: #555555;'> 4</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold04
#&gt; </span><span style='color: #555555;'> 5</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold05
#&gt; </span><span style='color: #555555;'> 6</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold06
#&gt; </span><span style='color: #555555;'> 7</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold07
#&gt; </span><span style='color: #555555;'> 8</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold08
#&gt; </span><span style='color: #555555;'> 9</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold09
#&gt; </span><span style='color: #555555;'>10</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Fold10</div><div class='input'><span class='fu'>vfold_cv</span>(<span class='no'>mtcars</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>repeats</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; #  10-fold cross-validation repeated 2 times 
#&gt; </span><span style='color: #555555;'># A tibble: 20 x 3</span><span>
#&gt;    splits         id      id2   
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;named list&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> 
#&gt; </span><span style='color: #555555;'> 1</span><span> </span><span style='color: #555555;'>&lt;split [28/4]&gt;</span><span> Repeat1 Fold01
#&gt; </span><span style='color: #555555;'> 2</span><span> </span><span style='color: #555555;'>&lt;split [28/4]&gt;</span><span> Repeat1 Fold02
#&gt; </span><span style='color: #555555;'> 3</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold03
#&gt; </span><span style='color: #555555;'> 4</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold04
#&gt; </span><span style='color: #555555;'> 5</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold05
#&gt; </span><span style='color: #555555;'> 6</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold06
#&gt; </span><span style='color: #555555;'> 7</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold07
#&gt; </span><span style='color: #555555;'> 8</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold08
#&gt; </span><span style='color: #555555;'> 9</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold09
#&gt; </span><span style='color: #555555;'>10</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat1 Fold10
#&gt; </span><span style='color: #555555;'>11</span><span> </span><span style='color: #555555;'>&lt;split [28/4]&gt;</span><span> Repeat2 Fold01
#&gt; </span><span style='color: #555555;'>12</span><span> </span><span style='color: #555555;'>&lt;split [28/4]&gt;</span><span> Repeat2 Fold02
#&gt; </span><span style='color: #555555;'>13</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold03
#&gt; </span><span style='color: #555555;'>14</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold04
#&gt; </span><span style='color: #555555;'>15</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold05
#&gt; </span><span style='color: #555555;'>16</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold06
#&gt; </span><span style='color: #555555;'>17</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold07
#&gt; </span><span style='color: #555555;'>18</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold08
#&gt; </span><span style='color: #555555;'>19</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold09
#&gt; </span><span style='color: #555555;'>20</span><span> </span><span style='color: #555555;'>&lt;split [29/3]&gt;</span><span> Repeat2 Fold10</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>purrr</span>)
<span class='no'>iris2</span> <span class='kw'>&lt;-</span> <span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>130</span>, ]

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>13</span>)
<span class='no'>folds1</span> <span class='kw'>&lt;-</span> <span class='fu'>vfold_cv</span>(<span class='no'>iris2</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map_dbl</a></span>(<span class='no'>folds1</span>$<span class='no'>splits</span>,
        <span class='kw'>function</span>(<span class='no'>x</span>) {
          <span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span>(<span class='no'>x</span>)$<span class='no'>Species</span>
          <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>dat</span> <span class='kw'>==</span> <span class='st'>"virginica"</span>)
        })</div><div class='output co'>#&gt;         1         2         3         4         5 
#&gt; 0.2596154 0.2307692 0.2403846 0.2115385 0.2115385 </div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>13</span>)
<span class='no'>folds2</span> <span class='kw'>&lt;-</span> <span class='fu'>vfold_cv</span>(<span class='no'>iris2</span>, <span class='kw'>strata</span> <span class='kw'>=</span> <span class='st'>"Species"</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map_dbl</a></span>(<span class='no'>folds2</span>$<span class='no'>splits</span>,
        <span class='kw'>function</span>(<span class='no'>x</span>) {
          <span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span>(<span class='no'>x</span>)$<span class='no'>Species</span>
          <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>dat</span> <span class='kw'>==</span> <span class='st'>"virginica"</span>)
        })</div><div class='output co'>#&gt;         1         2         3         4         5 
#&gt; 0.2307692 0.2307692 0.2307692 0.2307692 0.2307692 </div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>13</span>)
<span class='no'>folds3</span> <span class='kw'>&lt;-</span> <span class='fu'>vfold_cv</span>(<span class='no'>iris2</span>, <span class='kw'>strata</span> <span class='kw'>=</span> <span class='st'>"Petal.Length"</span>, <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>v</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map_dbl</a></span>(<span class='no'>folds3</span>$<span class='no'>splits</span>,
        <span class='kw'>function</span>(<span class='no'>x</span>) {
          <span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span>(<span class='no'>x</span>)$<span class='no'>Species</span>
          <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>dat</span> <span class='kw'>==</span> <span class='st'>"virginica"</span>)
        })</div><div class='output co'>#&gt;         1         2         3         4         5 
#&gt; 0.2254902 0.2330097 0.2307692 0.2380952 0.2264151 </div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p><code>rsample</code> is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn, Fanny Chow, <a href='http://hadley.nz'>Hadley Wickham</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


